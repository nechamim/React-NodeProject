{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import WithRouter from'./WithRouter';import Form from'react-bootstrap/Form';import{Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateWithRouter=WithRouter(/*#__PURE__*/function(_Component){_inherits(Update,_Component);var _super=_createSuper(Update);function Update(props){var _this;_classCallCheck(this,Update);_this=_super.call(this,props);_this.id=void 0;_this.newItem=void 0;_this.id=parseInt(_this.props.params.id?_this.props.params.id:\"0\");_this.newItem={id:0,instrument:\" \",description:\" \",price:0};_this.state={musicalInstrument:{id:0,instrument:\"\",description:\"\",price:0}};return _this;}_createClass(Update,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8080/music/\".concat(this.id));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;this.setState({musicalInstrument:data});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"callToServer\",value:function(){var _callToServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var requestOptions,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"instrument: \"+this.state.musicalInstrument.instrument+\", description: \"+this.state.musicalInstrument.description);requestOptions={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(this.state.musicalInstrument)};_context2.next=4;return fetch(\"http://localhost:8080/music/\".concat(this.id),requestOptions);case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;console.log(\"data: \"+data);debugger;case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function callToServer(){return _callToServer.apply(this,arguments);}return callToServer;}()},{key:\"render\",value:function render(){var _this2=this;var musicalInstrument=this.state.musicalInstrument;var handleChange=function handleChange(changedValue,field){_this2.newItem=_objectSpread({},_this2.state.musicalInstrument);console.log(changedValue);switch(field){case\"instrument\":console.log(\"I am in musicalInstrument.instrument: \"+musicalInstrument.instrument);_this2.newItem.instrument=changedValue;break;case\"description\":console.log(\"i am in  musicalInstrument.description: \"+musicalInstrument.description);_this2.newItem.description=changedValue;break;case\"price\":console.log(\"i am in musicalInstrument.price: \"+musicalInstrument.price);_this2.newItem.price=parseInt(changedValue);break;}_this2.setState({musicalInstrument:_this2.newItem});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(){return _this2.callToServer();},children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:musicalInstrument.instrument,onChange:function onChange(e){return handleChange(e.target.value,\"instrument\");}})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:musicalInstrument.description,onChange:function onChange(e){return handleChange(e.target.value,\"description\");}})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:musicalInstrument.price,onChange:function onChange(e){return handleChange(e.target.value,'price');}})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})});}}]);return Update;}(Component));export default UpdateWithRouter;","map":{"version":3,"names":["Component","WithRouter","Form","Button","UpdateWithRouter","props","id","newItem","parseInt","params","instrument","description","price","state","musicalInstrument","fetch","response","json","data","setState","console","log","requestOptions","method","headers","body","JSON","stringify","handleChange","changedValue","field","callToServer","e","target","value"],"sources":["C:/Users/נחמי מונקקקקקקקקקקק/Documents/כיתה יד/HouzzBootcamp/my-app/src/components/Update.tsx"],"sourcesContent":["import { Component } from 'react';\r\nimport WithRouter, { IWithRouterProps } from './WithRouter';\r\nimport Form from 'react-bootstrap/Form'\r\nimport { Button } from 'react-bootstrap';\r\nimport { IMusicalInstruments } from '../interfaces/IMusicalInstrument';\r\nimport HomePage from './HomePage';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst UpdateWithRouter = WithRouter(class Update extends Component<IWithRouterProps/* & IUpdateProps*/, any> {\r\n  id :number;\r\n  newItem: IMusicalInstruments;\r\n  constructor(props: any) {\r\n      super(props);\r\n      this.id = parseInt(this.props.params.id ? this.props.params.id : \"0\");\r\n      this.newItem = { id: 0, instrument: \" \", description: \" \", price: 0 };\r\n      this.state = { musicalInstrument: { id: 0, instrument: \"\", description: \"\", price: 0 }}\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const response = await fetch(`http://localhost:8080/music/${this.id}`);\r\n    const data = await response.json();\r\n    this.setState({ musicalInstrument: data })\r\n  }\r\n\r\n  async callToServer () {\r\n    console.log(\"instrument: \" + this.state.musicalInstrument.instrument + \", description: \" + this.state.musicalInstrument.description);\r\n      const requestOptions = {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(this.state.musicalInstrument)\r\n    };\r\n    const response = await fetch(`http://localhost:8080/music/${this.id}`, requestOptions);\r\n    const data = await response.json();\r\n    console.log(\"data: \" + data)\r\n    debugger\r\n}\r\n\r\n\r\n  render() {\r\n    const { musicalInstrument } = this.state;\r\n\r\n    const handleChange = (changedValue: string, field: string) => {\r\n      this.newItem = { ...this.state.musicalInstrument }\r\n      console.log(changedValue);\r\n      switch (field) {\r\n          case \"instrument\":\r\n              console.log(\"I am in musicalInstrument.instrument: \" + musicalInstrument.instrument);\r\n              this.newItem.instrument = changedValue;\r\n              break;\r\n          case \"description\":\r\n              console.log(\"i am in  musicalInstrument.description: \" + musicalInstrument.description);\r\n              this.newItem.description = changedValue;\r\n              break;\r\n          case \"price\":\r\n              console.log(\"i am in musicalInstrument.price: \" + musicalInstrument.price)\r\n              this.newItem.price = parseInt(changedValue);\r\n              break;\r\n      }\r\n      this.setState({ musicalInstrument: this.newItem });\r\n  };\r\n\r\n\r\n    return (\r\n      <div>\r\n        <Form onSubmit={() =>  this.callToServer()}>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Control type=\"text\" value={musicalInstrument.instrument} onChange={(e) => handleChange(e.target.value, \"instrument\")} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Control type=\"text\" value={musicalInstrument.description} onChange={(e) => handleChange(e.target.value, \"description\")} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Control type=\"number\" value={musicalInstrument.price} onChange={(e) => handleChange(e.target.value, 'price')} />\r\n          </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n           {/*<Link to={`/home`} id={\"link\"}>*/}Submit{/*</Link>*/}</Button> \r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n})\r\nexport default UpdateWithRouter;"],"mappings":"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"},"metadata":{},"sourceType":"module"}