{"ast":null,"code":"import _classCallCheck from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/\\u05E0\\u05D7\\u05DE\\u05D9 \\u05DE\\u05D5\\u05E0\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7\\u05E7/Documents/\\u05DB\\u05D9\\u05EA\\u05D4 \\u05D9\\u05D3/HouzzBootcamp/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import WithRouter from'./WithRouter';import Form from'react-bootstrap/Form';import{Button}from'react-bootstrap';import HomePage from'./HomePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateWithRouter=WithRouter(/*#__PURE__*/function(_Component){_inherits(Update,_Component);var _super=_createSuper(Update);function Update(){var _this;_classCallCheck(this,Update);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.id=parseInt(_this.props.params.id?_this.props.params.id:\"0\");_this.state={musicalInstrument:{id:0,instrument:\"\",description:\"\",price:0}};_this.callToServer=function(){fetch(\"http://localhost:8080/music/\".concat(_this.id),{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(_this.state.musicalInstrument)}).then(function(response){return response.json();}).then(function(data){return console.log(data);}).catch(function(error){return console.error('Unable to update item.',error);});};return _this;}_createClass(Update,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8080/music/\".concat(this.id)).then(function(response){return response.json();}).then(function(data){return _this2.setState({musicalInstrument:data});});}},{key:\"render\",value:function render(){var _this3=this;var musicalInstrument=this.state.musicalInstrument;var handleChange=function handleChange(changedValue,field){console.log(changedValue);switch(field){case\"instrument\":_this3.setState({musicalInstrument:{instrument:changedValue}});break;case\"description\":_this3.setState({musicalInstrument:{description:changedValue}});break;case\"price\":_this3.setState({musicalInstrument:{price:changedValue}});break;}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(){_this3.callToServer();/*#__PURE__*/_jsx(HomePage,{});},children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:musicalInstrument.instrument,onChange:function onChange(e){return handleChange(e.target.value,\"instrument\");}})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:musicalInstrument.description,onChange:function onChange(e){return handleChange(e.target.value,\"description\");}})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:musicalInstrument.price,onChange:function onChange(e){return handleChange(e.target.value,'price');}})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})});}}]);return Update;}(Component));export default UpdateWithRouter;","map":{"version":3,"names":["Component","WithRouter","Form","Button","HomePage","UpdateWithRouter","id","parseInt","props","params","state","musicalInstrument","instrument","description","price","callToServer","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","catch","error","setState","handleChange","changedValue","field","e","target","value"],"sources":["C:/Users/נחמי מונקקקקקקקקקקק/Documents/כיתה יד/HouzzBootcamp/my-app/src/components/Update.tsx"],"sourcesContent":["import { Component } from 'react';\r\nimport WithRouter, { IWithRouterProps } from './WithRouter';\r\nimport Form from 'react-bootstrap/Form'\r\nimport { Button } from 'react-bootstrap';\r\nimport { IMusicalInstruments } from '../interfaces/IMusicalInstrument';\r\nimport HomePage from './HomePage';\r\n\r\n\r\ninterface IUpdateProps {\r\n  music: IMusicalInstruments;\r\n}\r\n\r\nconst UpdateWithRouter = WithRouter(class Update extends Component<IWithRouterProps/* & IUpdateProps*/, any> {\r\n  id = parseInt(this.props.params.id ? this.props.params.id : \"0\");\r\n\r\n  state = {\r\n    musicalInstrument: { id: 0, instrument: \"\", description: \"\", price: 0 }\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`http://localhost:8080/music/${this.id}`)\r\n      .then(response => response.json())\r\n      .then(data => this.setState({ musicalInstrument: data }));\r\n  }\r\n\r\n  callToServer = () => {\r\n    fetch(`http://localhost:8080/music/${this.id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(this.state.musicalInstrument)\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => console.log(data))\r\n      .catch(error => console.error('Unable to update item.', error));\r\n  }\r\n\r\n\r\n  render() {\r\n    const { musicalInstrument } = this.state;\r\n\r\n    const handleChange = (changedValue: string, field: string) => {\r\n      console.log(changedValue);\r\n      switch (field) {\r\n        case \"instrument\":\r\n          this.setState({ musicalInstrument: { instrument: changedValue } });\r\n          break;\r\n        case \"description\":\r\n          this.setState({ musicalInstrument: { description: changedValue } });\r\n          break;\r\n        case \"price\":\r\n          this.setState({ musicalInstrument: { price: changedValue } });\r\n          break;\r\n      }\r\n    };\r\n\r\n\r\n    return (\r\n      <div>\r\n        <Form onSubmit={() => {this.callToServer(); <HomePage/>;}}>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Control type=\"text\" value={musicalInstrument.instrument} onChange={(e) => handleChange(e.target.value, \"instrument\")} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Control type=\"text\" value={musicalInstrument.description} onChange={(e) => handleChange(e.target.value, \"description\")} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Control type=\"number\" value={musicalInstrument.price} onChange={(e) => handleChange(e.target.value, 'price')} />\r\n          </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n})\r\nexport default UpdateWithRouter;"],"mappings":"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"},"metadata":{},"sourceType":"module"}